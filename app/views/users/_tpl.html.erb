<% if book.errors.any? %>
  <%= book.errors.count %>error prohibited this obj from being saved:
  <ul>
    <% book.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
  </ul>
<% end %>

<h2>User info</h2>

  <% if user.profile_image.attached? %>
    <%= image_tag user.profile_image, size: "100x100" %>
  <% else %>
    <%= image_tag 'default-image', size: "100x100" %>
  <% end %>

  <table class="table">
    <tbody>
      <tr>
        <th>name</th>
        <th><%= user.name %></th>
        <!--この《user》はローカル変数-->
      </tr>
      <tr>
        <th>introduction</th>
        <th><%= user.introduction %></th>
        <!--この《user》はローカル変数-->
      </tr>
    </tbody>
  </table>


  <div class="row">
    <%= link_to edit_user_path(user.id) , class: "btn btn-secondary btn-block" do %>
      <i class="fas fa-user-cog"></i>
    <% end %>
  </div>



<h2>New book</h2>

<%= form_with model: book do |f| %>
<!--ここでいうmodelとは型のこと-->
<!--modelにはbookという《ローカル変数》を指定している-->
<!--bookは、テンプレートファイルを使うために《代わりに》指定されたローカル変数で、-->
<!--book_controllerの《@new_book》を意味する！！-->


  <div class="form_group">
    <label for="book_title">Title</label>
    <%= f.text_field :title , class: "form-control book_title" %>
  </div>

  <div class="form_group">
    <label for="book_opinion">Opinion</label>
    <%= f.text_area :body , class: "form-control book_body" %>
  </div>

  <div class="form_group">
    <%= f.submit 'Create Book' , class: "btn btn-success" %>
  </div>

<% end %>